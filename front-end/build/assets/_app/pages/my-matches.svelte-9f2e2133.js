import{S as e,i as a,s as t,e as s,j as n,t as l,c as r,a as c,l as o,b as h,d as i,o as p,f as u,g as m,H as f,h as d,I as _,n as g,E as y,B as v,K as k,L as E}from"../chunks/index-a2f0fece.js";import{c as j}from"../chunks/store-bfd594f8.js";import{g as I}from"../chunks/navigation-ecc5701b.js";function b(e,a,t){const s=e.slice();return s[6]=a[t],s}function S(e){let a,t,n,o,p,f,_,g,y,v=e[6].phases+"",k=e[6].phase+"",E=e[6].phases+"",j=e[6].endgame+"";return{c(){a=s("b"),t=l("Tournament Game phases:"),n=l(v),o=l(",phase:"),p=l(k),f=l(",phase_id:"),_=l(E),g=l(",endgame:"),y=l(j)},l(e){a=r(e,"B",{});var s=c(a);t=h(s,"Tournament Game phases:"),n=h(s,v),o=h(s,",phase:"),p=h(s,k),f=h(s,",phase_id:"),_=h(s,E),g=h(s,",endgame:"),y=h(s,j),s.forEach(i)},m(e,s){u(e,a,s),m(a,t),m(a,n),m(a,o),m(a,p),m(a,f),m(a,_),m(a,g),m(a,y)},p(e,a){2&a&&v!==(v=e[6].phases+"")&&d(n,v),2&a&&k!==(k=e[6].phase+"")&&d(p,k),2&a&&E!==(E=e[6].phases+"")&&d(_,E),2&a&&j!==(j=e[6].endgame+"")&&d(y,j)},d(e){e&&i(a)}}}function T(e,a){let t,_,g,y,v,k,E,j,I,b,T,w,x,M,$,B,G,L=a[6].game_type+"",P=a[6].player1_email+"",H=a[6].player2_email+"",R=a[6].phases&&S(a);return{key:e,first:null,c(){t=s("li"),R&&R.c(),_=n(),g=s("p"),y=s("b"),v=l(L),k=l("->"),E=l("\r\n                player1:"),j=l(P),I=l(" VS player2:"),b=l(H),T=n(),w=s("input"),M=n(),this.h()},l(e){t=r(e,"LI",{current:!0});var a=c(t);R&&R.l(a),_=o(a),g=r(a,"P",{});var s=c(g);y=r(s,"B",{});var n=c(y);v=h(n,L),k=h(n,"->"),n.forEach(i),E=h(s,"\r\n                player1:"),j=h(s,P),I=h(s," VS player2:"),b=h(s,H),T=o(s),w=r(s,"INPUT",{type:!0,value:!0}),s.forEach(i),M=o(a),a.forEach(i),this.h()},h(){p(w,"type","radio"),w.__value=x=a[6].match_id,w.value=w.__value,a[3][0].push(w),p(t,"current",$=a[6].match_id),this.first=t},m(e,s){u(e,t,s),R&&R.m(t,null),m(t,_),m(t,g),m(g,y),m(y,v),m(y,k),m(g,E),m(g,j),m(g,I),m(g,b),m(g,T),m(g,w),w.checked=w.__value===a[0],m(t,M),B||(G=f(w,"change",a[2]),B=!0)},p(e,s){(a=e)[6].phases?R?R.p(a,s):(R=S(a),R.c(),R.m(t,_)):R&&(R.d(1),R=null),2&s&&L!==(L=a[6].game_type+"")&&d(v,L),2&s&&P!==(P=a[6].player1_email+"")&&d(j,P),2&s&&H!==(H=a[6].player2_email+"")&&d(b,H),2&s&&x!==(x=a[6].match_id)&&(w.__value=x,w.value=w.__value),1&s&&(w.checked=w.__value===a[0]),2&s&&$!==($=a[6].match_id)&&p(t,"current",$)},d(e){e&&i(t),R&&R.d(),a[3][0].splice(a[3][0].indexOf(w),1),B=!1,G()}}}function w(e){let a,t,p,f,y,v,E,j=[],I=new Map,S=e[1];const w=e=>e[6].match_id;for(let s=0;s<S.length;s+=1){let a=b(e,S,s),t=w(a);I.set(t,j[s]=T(t,a))}return{c(){a=s("h1"),t=l("Your Running Matches are"),p=n(),f=s("ul");for(let e=0;e<j.length;e+=1)j[e].c();y=n(),v=s("p"),E=l(e[0])},l(s){a=r(s,"H1",{});var n=c(a);t=h(n,"Your Running Matches are"),n.forEach(i),p=o(s),f=r(s,"UL",{});var l=c(f);for(let e=0;e<j.length;e+=1)j[e].l(l);l.forEach(i),y=o(s),v=r(s,"P",{});var u=c(v);E=h(u,e[0]),u.forEach(i)},m(e,s){u(e,a,s),m(a,t),u(e,p,s),u(e,f,s);for(let a=0;a<j.length;a+=1)j[a].m(f,null);u(e,y,s),u(e,v,s),m(v,E)},p(e,[a]){3&a&&(S=e[1],j=_(j,a,w,1,e,S,I,f,k,T,null,b)),1&a&&d(E,e[0])},i:g,o:g,d(e){e&&i(a),e&&i(p),e&&i(f);for(let a=0;a<j.length;a+=1)j[a].d();e&&i(y),e&&i(v)}}}function x(e,a,t){let s;y(e,j,(e=>t(4,s=e)));let n=[],l="";v((async()=>(async()=>{try{const e=await fetch("http://localhost:5001/player/running-matches",{method:"GET",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}}),a=await e.json();if("string"==typeof a)throw a;localStorage.setItem("token",a.token),t(1,n=a.allIndividualMatches),console.log(n)}catch(e){console.log(e)}})()));return e.$$.update=()=>{1&e.$$.dirty&&""!=l&&(E(j,s=l,s),I("/game"))},[l,n,function(){l=this.__value,t(0,l)},[[]]]}export default class extends e{constructor(e){super(),a(this,e,x,w,t,{})}}
