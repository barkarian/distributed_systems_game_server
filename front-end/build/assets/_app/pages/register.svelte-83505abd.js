import{S as a,i as e,s as t,t as s,b as n,f as o,h as r,d as i,e as l,j as p,c,a as u,l as m,o as d,g as h,M as f,H as g,N as y,n as w,J as v,O as b}from"../chunks/index-bf7fb778.js";import{i as N,u as S}from"../chunks/store-5de4d08f.js";import{g as T}from"../chunks/navigation-ecc5701b.js";function j(a){let e;return{c(){e=s(a[1])},l(t){e=n(t,a[1])},m(a,t){o(a,e,t)},p(a,t){2&t&&r(e,a[1])},d(a){a&&i(e)}}}function O(a){let e,t,r,N,S,T,O,P,k,I,x,U,_,E,J,R=""!=a[1]&&j(a);return{c(){e=l("h1"),t=s("Register Page"),r=p(),R&&R.c(),N=p(),S=l("form"),T=l("input"),O=p(),P=l("input"),k=p(),I=l("input"),x=p(),U=l("button"),_=s("Submit"),this.h()},l(a){e=c(a,"H1",{});var s=u(e);t=n(s,"Register Page"),s.forEach(i),r=m(a),R&&R.l(a),N=m(a),S=c(a,"FORM",{});var o=u(S);T=c(o,"INPUT",{type:!0,name:!0,placeholder:!0}),O=m(o),P=c(o,"INPUT",{type:!0,name:!0,placeholder:!0}),k=m(o),I=c(o,"INPUT",{type:!0,name:!0,placeholder:!0}),x=m(o),U=c(o,"BUTTON",{});var l=u(U);_=n(l,"Submit"),l.forEach(i),o.forEach(i),this.h()},h(){d(T,"type","email"),d(T,"name","email"),d(T,"placeholder","email"),d(P,"type","password"),d(P,"name","password"),d(P,"placeholder","password"),d(I,"type","text"),d(I,"name","name"),d(I,"placeholder","name")},m(s,n){o(s,e,n),h(e,t),o(s,r,n),R&&R.m(s,n),o(s,N,n),o(s,S,n),h(S,T),f(T,a[0].email),h(S,O),h(S,P),f(P,a[0].password),h(S,k),h(S,I),f(I,a[0].name),h(S,x),h(S,U),h(U,_),E||(J=[g(T,"input",a[3]),g(P,"input",a[4]),g(I,"input",a[5]),g(S,"submit",y((function(){b(a[2](a[0]))&&a[2](a[0]).apply(this,arguments)})))],E=!0)},p(e,[t]){""!=(a=e)[1]?R?R.p(a,t):(R=j(a),R.c(),R.m(N.parentNode,N)):R&&(R.d(1),R=null),1&t&&T.value!==a[0].email&&f(T,a[0].email),1&t&&P.value!==a[0].password&&f(P,a[0].password),1&t&&I.value!==a[0].name&&f(I,a[0].name)},i:w,o:w,d(a){a&&i(e),a&&i(r),R&&R.d(a),a&&i(N),a&&i(S),E=!1,v(J)}}}function P(a,e,t){let s,n;return t(0,s={name:"",password:"",email:""}),t(1,n=""),[s,n,async a=>{try{const e=await fetch("http://localhost:5000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await e.json();if("string"==typeof t)throw t;localStorage.setItem("token",t.token);const s=JSON.stringify(t.user_data);localStorage.setItem("user_data",s),console.log(t.user_data),N.set(!0),S.set(t.user_data),T("/profile")}catch(e){t(1,n=e)}},function(){s.email=this.value,t(0,s)},function(){s.password=this.value,t(0,s)},function(){s.name=this.value,t(0,s)}]}export default class extends a{constructor(a){super(),e(this,a,P,O,t,{})}}
