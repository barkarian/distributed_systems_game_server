import{S as e,i as a,s as t,e as l,t as n,j as s,c as r,a as i,b as o,l as c,d as h,f as u,g as p,h as f,o as _,H as m,I as d,n as v,J as y,K as g}from"../chunks/index-bf7fb778.js";function w(e,a,t){const l=e.slice();return l[6]=a[t],l}function E(e,a){let t,_,m,d,v,y,g,w=a[6].player1_email+"",E=a[6].player2_email+"",I=(null==a[6].winner_email?"TIE":a[6].winner_email)+"";return{key:e,first:null,c(){t=l("li"),_=n(w),m=n(" vs "),d=n(E),v=n(" ="),y=n(I),g=s(),this.h()},l(e){t=r(e,"LI",{});var a=i(t);_=o(a,w),m=o(a," vs "),d=o(a,E),v=o(a," ="),y=o(a,I),g=c(a),a.forEach(h),this.h()},h(){this.first=t},m(e,a){u(e,t,a),p(t,_),p(t,m),p(t,d),p(t,v),p(t,y),p(t,g)},p(e,t){a=e,2&t&&w!==(w=a[6].player1_email+"")&&f(_,w),2&t&&E!==(E=a[6].player2_email+"")&&f(d,E),2&t&&I!==(I=(null==a[6].winner_email?"TIE":a[6].winner_email)+"")&&f(y,I)},d(e){e&&h(t)}}}function I(e){let a,t,f,I,k,T,L,b,x,M,j,S,$,G,U=[],A=new Map,B=e[1];const H=e=>e[6].game_id;for(let l=0;l<B.length;l+=1){let a=w(e,B,l),t=H(a);A.set(t,U[l]=E(t,a))}return{c(){a=l("h1"),t=n("Search Matches"),f=s(),I=l("label"),k=l("input"),T=n("\r\n\tGames of Tournaments I participated in"),L=s(),b=l("label"),x=l("input"),M=n("\r\n\tMy own games results"),j=s(),S=l("ul");for(let e=0;e<U.length;e+=1)U[e].c();this.h()},l(e){a=r(e,"H1",{});var l=i(a);t=o(l,"Search Matches"),l.forEach(h),f=c(e),I=r(e,"LABEL",{});var n=i(I);k=r(n,"INPUT",{type:!0,value:!0}),T=o(n,"\r\n\tGames of Tournaments I participated in"),n.forEach(h),L=c(e),b=r(e,"LABEL",{});var s=i(b);x=r(s,"INPUT",{type:!0,value:!0}),M=o(s,"\r\n\tMy own games results"),s.forEach(h),j=c(e),S=r(e,"UL",{});var u=i(S);for(let a=0;a<U.length;a+=1)U[a].l(u);u.forEach(h),this.h()},h(){_(k,"type","radio"),k.__value=1,k.value=k.__value,e[3][0].push(k),_(x,"type","radio"),x.__value=2,x.value=x.__value,e[3][0].push(x)},m(l,n){u(l,a,n),p(a,t),u(l,f,n),u(l,I,n),p(I,k),k.checked=k.__value===e[0],p(I,T),u(l,L,n),u(l,b,n),p(b,x),x.checked=x.__value===e[0],p(b,M),u(l,j,n),u(l,S,n);for(let e=0;e<U.length;e+=1)U[e].m(S,null);$||(G=[m(k,"change",e[2]),m(x,"change",e[4])],$=!0)},p(e,[a]){1&a&&(k.checked=k.__value===e[0]),1&a&&(x.checked=x.__value===e[0]),2&a&&(B=e[1],U=d(U,a,H,1,e,B,A,S,g,E,null,w))},i:v,o:v,d(t){t&&h(a),t&&h(f),t&&h(I),e[3][0].splice(e[3][0].indexOf(k),1),t&&h(L),t&&h(b),e[3][0].splice(e[3][0].indexOf(x),1),t&&h(j),t&&h(S);for(let e=0;e<U.length;e+=1)U[e].d();$=!1,y(G)}}}function k(e,a,t){let l=0,n=[];return e.$$.update=()=>{1&e.$$.dirty&&0!=l&&(async e=>{try{var a;a=1==e?"http://localhost:5001/player/get-tournaments-matches":"http://localhost:5001/player/get-my-matches";const l=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}}),s=await l.json();if("string"==typeof s)throw s;t(1,n=s),console.log(n)}catch(l){console.log(l)}})(l)},[l,n,function(){l=this.__value,t(0,l)},[[]],function(){l=this.__value,t(0,l)}]}export default class extends e{constructor(e){super(),a(this,e,k,I,t,{})}}
