var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,a=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,o=(e,o)=>{for(var n in o||(o={}))t.call(o,n)&&a(e,n,o[n]);if(r)for(var n of r(o))s.call(o,n)&&a(e,n,o[n]);return e};import{S as n,i,s as c,e as l,t as u,c as h,a as p,b as f,d,f as g,g as m,h as v,j as y,k as _,l as $,n as E,m as b,o as w,p as x,q as R,r as S,u as L,v as k,w as O,x as A,y as j,z as q,A as P,B as T,C as I,D as N,E as D,F as V,G as M}from"./chunks/index-a2f0fece.js";import{i as C,u as U,w as B}from"./chunks/store-bfd594f8.js";import{g as K,i as z}from"./chunks/navigation-ecc5701b.js";function G(e){let t,r,s=e[1].stack+"";return{c(){t=l("pre"),r=u(s)},l(e){t=h(e,"PRE",{});var a=p(t);r=f(a,s),a.forEach(d)},m(e,s){g(e,t,s),m(t,r)},p(e,t){2&t&&s!==(s=e[1].stack+"")&&v(r,s)},d(e){e&&d(t)}}}function W(e){let t,r,s,a,o,n,i,c=e[1].message+"",b=e[1].stack&&G(e);return{c(){t=l("h1"),r=u(e[0]),s=y(),a=l("p"),o=u(c),n=y(),b&&b.c(),i=_()},l(l){t=h(l,"H1",{});var u=p(t);r=f(u,e[0]),u.forEach(d),s=$(l),a=h(l,"P",{});var g=p(a);o=f(g,c),g.forEach(d),n=$(l),b&&b.l(l),i=_()},m(e,c){g(e,t,c),m(t,r),g(e,s,c),g(e,a,c),m(a,o),g(e,n,c),b&&b.m(e,c),g(e,i,c)},p(e,[t]){1&t&&v(r,e[0]),2&t&&c!==(c=e[1].message+"")&&v(o,c),e[1].stack?b?b.p(e,t):(b=G(e),b.c(),b.m(i.parentNode,i)):b&&(b.d(1),b=null)},i:E,o:E,d(e){e&&d(t),e&&d(s),e&&d(a),e&&d(n),b&&b.d(e),e&&d(i)}}}function J(e,t,r){let{status:s}=t,{error:a}=t;return e.$$set=e=>{"status"in e&&r(0,s=e.status),"error"in e&&r(1,a=e.error)},[s,a]}class Y extends n{constructor(e){super(),i(this,e,J,W,c,{status:0,error:1})}}function F(e){let t,r,s;const a=[e[4]||{}];var o=e[2][1];function n(e){let t={};for(let r=0;r<a.length;r+=1)t=b(t,a[r]);return{props:t}}return o&&(t=new o(n())),{c(){t&&x(t.$$.fragment),r=_()},l(e){t&&R(t.$$.fragment,e),r=_()},m(e,a){t&&S(t,e,a),g(e,r,a),s=!0},p(e,s){const i=16&s?L(a,[k(e[4]||{})]):{};if(o!==(o=e[2][1])){if(t){I();const e=t;A(e.$$.fragment,1,0,(()=>{j(e,1)})),N()}o?(t=new o(n()),x(t.$$.fragment),O(t.$$.fragment,1),S(t,r.parentNode,r)):t=null}else o&&t.$set(i)},i(e){s||(t&&O(t.$$.fragment,e),s=!0)},o(e){t&&A(t.$$.fragment,e),s=!1},d(e){e&&d(r),t&&j(t,e)}}}function H(e){let t,r;return t=new Y({props:{status:e[0],error:e[1]}}),{c(){x(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,s){S(t,e,s),r=!0},p(e,r){const s={};1&r&&(s.status=e[0]),2&r&&(s.error=e[1]),t.$set(s)},i(e){r||(O(t.$$.fragment,e),r=!0)},o(e){A(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function X(e){let t,r,s,a;const o=[H,F],n=[];function i(e,t){return e[1]?0:1}return t=i(e),r=n[t]=o[t](e),{c(){r.c(),s=_()},l(e){r.l(e),s=_()},m(e,r){n[t].m(e,r),g(e,s,r),a=!0},p(e,a){let c=t;t=i(e),t===c?n[t].p(e,a):(I(),A(n[c],1,1,(()=>{n[c]=null})),N(),r=n[t],r?r.p(e,a):(r=n[t]=o[t](e),r.c()),O(r,1),r.m(s.parentNode,s))},i(e){a||(O(r),a=!0)},o(e){A(r),a=!1},d(e){n[t].d(e),e&&d(s)}}}function Q(e){let t,r=e[6]&&Z(e);return{c(){t=l("div"),r&&r.c(),this.h()},l(e){t=h(e,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,class:!0});var s=p(t);r&&r.l(s),s.forEach(d),this.h()},h(){w(t,"id","svelte-announcer"),w(t,"aria-live","assertive"),w(t,"aria-atomic","true"),w(t,"class","svelte-1j55zn5")},m(e,s){g(e,t,s),r&&r.m(t,null)},p(e,s){e[6]?r?r.p(e,s):(r=Z(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&d(t),r&&r.d()}}}function Z(e){let t,r;return{c(){t=u("Navigated to "),r=u(e[7])},l(s){t=f(s,"Navigated to "),r=f(s,e[7])},m(e,s){g(e,t,s),g(e,r,s)},p(e,t){128&t&&v(r,e[7])},d(e){e&&d(t),e&&d(r)}}}function ee(e){let t,r,s,a;const o=[e[3]||{}];let n={$$slots:{default:[X]},$$scope:{ctx:e}};for(let c=0;c<o.length;c+=1)n=b(n,o[c]);t=new e[8]({props:n});let i=e[5]&&Q(e);return{c(){x(t.$$.fragment),r=y(),i&&i.c(),s=_()},l(e){R(t.$$.fragment,e),r=$(e),i&&i.l(e),s=_()},m(e,o){S(t,e,o),g(e,r,o),i&&i.m(e,o),g(e,s,o),a=!0},p(e,[r]){const a=8&r?L(o,[k(e[3]||{})]):{};2071&r&&(a.$$scope={dirty:r,ctx:e}),t.$set(a),e[5]?i?i.p(e,r):(i=Q(e),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},i(e){a||(O(t.$$.fragment,e),a=!0)},o(e){A(t.$$.fragment,e),a=!1},d(e){j(t,e),e&&d(r),i&&i.d(e),e&&d(s)}}}function te(e,t,r){let{status:s}=t,{error:a}=t,{stores:o}=t,{page:n}=t,{components:i}=t,{props_0:c=null}=t,{props_1:l=null}=t;const u=i[0];q("__svelte__",o),P(o.page.notify);let h=!1,p=!1,f=null;return T((()=>{const e=o.page.subscribe((()=>{h&&(r(6,p=!0),r(7,f=document.title))}));return r(5,h=!0),e})),e.$$set=e=>{"status"in e&&r(0,s=e.status),"error"in e&&r(1,a=e.error),"stores"in e&&r(9,o=e.stores),"page"in e&&r(10,n=e.page),"components"in e&&r(2,i=e.components),"props_0"in e&&r(3,c=e.props_0),"props_1"in e&&r(4,l=e.props_1)},e.$$.update=()=>{1536&e.$$.dirty&&o.page.set(n)},[s,a,i,c,l,h,p,f,u,o,n]}class re extends n{constructor(e){super(),i(this,e,te,ee,c,{status:0,error:1,stores:9,page:10,components:2,props_0:3,props_1:4})}}let se;const ae={},oe=function(e,t){if(!t)return e();if(void 0===se){const e=document.createElement("link").relList;se=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in ae)return;ae[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":se,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e()))};function ne(e){let t,r,s,a,o,n,i,c,_,E,b,x,R,S,L,k,O=e[1].user_email+"";return{c(){t=l("a"),r=u("My Matches"),s=y(),a=l("a"),o=u("Search Matches"),n=y(),i=l("a"),c=u("Score Board"),_=y(),E=l("a"),b=u("New game"),x=y(),R=l("a"),S=l("bold"),L=u("ðŸ‘½"),k=u(O),this.h()},l(e){t=h(e,"A",{href:!0,class:!0});var l=p(t);r=f(l,"My Matches"),l.forEach(d),s=$(e),a=h(e,"A",{href:!0,class:!0});var u=p(a);o=f(u,"Search Matches"),u.forEach(d),n=$(e),i=h(e,"A",{href:!0,class:!0});var g=p(i);c=f(g,"Score Board"),g.forEach(d),_=$(e),E=h(e,"A",{href:!0,class:!0});var m=p(E);b=f(m,"New game"),m.forEach(d),x=$(e),R=h(e,"A",{href:!0,class:!0});var v=p(R);S=h(v,"BOLD",{});var y=p(S);L=f(y,"ðŸ‘½"),k=f(y,O),y.forEach(d),v.forEach(d),this.h()},h(){w(t,"href","/my-matches"),w(t,"class","svelte-1c5xf0a"),w(a,"href","/search-matches"),w(a,"class","svelte-1c5xf0a"),w(i,"href","/players-scores"),w(i,"class","svelte-1c5xf0a"),w(E,"href","/new-game"),w(E,"class","svelte-1c5xf0a"),w(R,"href","/profile"),w(R,"class","svelte-1c5xf0a")},m(e,l){g(e,t,l),m(t,r),g(e,s,l),g(e,a,l),m(a,o),g(e,n,l),g(e,i,l),m(i,c),g(e,_,l),g(e,E,l),m(E,b),g(e,x,l),g(e,R,l),m(R,S),m(S,L),m(S,k)},p(e,t){2&t&&O!==(O=e[1].user_email+"")&&v(k,O)},d(e){e&&d(t),e&&d(s),e&&d(a),e&&d(n),e&&d(i),e&&d(_),e&&d(E),e&&d(x),e&&d(R)}}}function ie(e){let t,r,s,a,o;return{c(){t=l("a"),r=u("Register"),s=y(),a=l("a"),o=u("Logging in"),this.h()},l(e){t=h(e,"A",{href:!0,class:!0});var n=p(t);r=f(n,"Register"),n.forEach(d),s=$(e),a=h(e,"A",{href:!0,class:!0});var i=p(a);o=f(i,"Logging in"),i.forEach(d),this.h()},h(){w(t,"href","/register"),w(t,"class","svelte-1c5xf0a"),w(a,"href","/login"),w(a,"class","svelte-1c5xf0a")},m(e,n){g(e,t,n),m(t,r),g(e,s,n),g(e,a,n),m(a,o)},p:E,d(e){e&&d(t),e&&d(s),e&&d(a)}}}function ce(e){let t;function r(e,t){return e[0]?ne:ie}let s=r(e),a=s(e);return{c(){t=l("nav"),a.c(),this.h()},l(e){t=h(e,"NAV",{class:!0});var r=p(t);a.l(r),r.forEach(d),this.h()},h(){w(t,"class","topnav svelte-1c5xf0a")},m(e,r){g(e,t,r),a.m(t,null)},p(e,[o]){s===(s=r(e))&&a?a.p(e,o):(a.d(1),a=s(e),a&&(a.c(),a.m(t,null)))},i:E,o:E,d(e){e&&d(t),a.d()}}}function le(e,t,r){let s,a;return D(e,C,(e=>r(0,s=e))),D(e,U,(e=>r(1,a=e))),[s,a]}class ue extends n{constructor(e){super(),i(this,e,le,ce,c,{})}}function he(e){for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;return e}function pe(e){let t,r,s,a;t=new ue({});const o=e[1].default,n=V(o,e,e[0],null);return{c(){x(t.$$.fragment),r=y(),s=l("main"),n&&n.c(),this.h()},l(e){R(t.$$.fragment,e),r=$(e),s=h(e,"MAIN",{class:!0});var a=p(s);n&&n.l(a),a.forEach(d),this.h()},h(){w(s,"class","svelte-yoigby")},m(e,o){S(t,e,o),g(e,r,o),g(e,s,o),n&&n.m(s,null),a=!0},p(e,[t]){n&&n.p&&1&t&&M(n,o,e,e[0],t,null,null)},i(e){a||(O(t.$$.fragment,e),O(n,e),a=!0)},o(e){A(t.$$.fragment,e),A(n,e),a=!1},d(e){j(t,e),e&&d(r),e&&d(s),n&&n.d(e)}}}function fe(e,t,r){let{$$slots:s={},$$scope:a}=t;return T((async()=>{if(localStorage.getItem("token")){const e=await fetch("http://localhost:5000/auth/is-verify",{method:"GET",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}});if(!0===await e.json()){const e=JSON.parse(localStorage.getItem("user_data"));U.set(e),C.set(!0),K("/profile")}else C.set(!1),U.set({}),localStorage.removeItem("token"),localStorage.removeItem("user_data"),K("/login")}})),e.$$set=e=>{"$$scope"in e&&r(0,a=e.$$scope)},[a,s]}var de=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class extends n{constructor(e){super(),i(this,e,fe,pe,c,{})}}});const ge=[()=>oe((()=>import("./pages/index.svelte-c5f4fd49.js")),void 0),()=>oe((()=>import("./pages/players-scores.svelte-340d3ce6.js")),void 0),()=>oe((()=>import("./pages/search-matches.svelte-cb469a08.js")),void 0),()=>oe((()=>import("./pages/my-matches.svelte-8673cd04.js")),void 0),()=>oe((()=>import("./pages/new-game.svelte-968ea955.js")),void 0),()=>oe((()=>import("./pages/register.svelte-cee224de.js")),void 0),()=>oe((()=>import("./pages/profile.svelte-5e557425.js")),void 0),()=>oe((()=>import("./pages/about.svelte-9f75ccfc.js")),void 0),()=>oe((()=>import("./pages/login.svelte-863eefba.js")),void 0),()=>oe((()=>import("./pages/game.svelte-6ae6f0cd.js")),void 0)],me=[[/^\/$/,[ge[0]]],[/^\/players-scores\/?$/,[ge[1]]],[/^\/search-matches\/?$/,[ge[2]]],[/^\/my-matches\/?$/,[ge[3]]],[/^\/new-game\/?$/,[ge[4]]],[/^\/register\/?$/,[ge[5]]],[/^\/profile\/?$/,[ge[6]]],[/^\/about\/?$/,[ge[7]]],[/^\/login\/?$/,[ge[8]]],[/^\/game\/?$/,[ge[9]]]];function ve(){return{x:pageXOffset,y:pageYOffset}}class ye{constructor({base:e,routes:t}){this.base=e,this.routes=t}init(e){let t;this.renderer=e,e.router=this,"scrollRestoration"in history&&(history.scrollRestoration="manual"),addEventListener("beforeunload",(()=>{history.scrollRestoration="auto"})),addEventListener("load",(()=>{history.scrollRestoration="manual"})),addEventListener("scroll",(()=>{clearTimeout(t),t=setTimeout((()=>{const e=o(o({},history.state||{}),{"sveltekit:scroll":ve()});history.replaceState(e,document.title,window.location.href)}),50)})),addEventListener("click",(e=>{if(e.button||1!==e.which)return;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;if(e.defaultPrevented)return;const t=he(e.target);if(!t)return;if(!t.href)return;const r="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name,s=String(r?t.href.baseVal:t.href);if(s===location.href)return void(location.hash||e.preventDefault());if(t.hasAttribute("download")||"external"===t.getAttribute("rel"))return;if(r?t.target.baseVal:t.target)return;const a=new URL(s);if(a.pathname===location.pathname&&a.search===location.search)return;const o=this.parse(a);if(o){const r=t.hasAttribute("sveltekit:noscroll");history.pushState({},"",a.href),this._navigate(o,r?ve():null,[],a.hash),e.preventDefault()}})),addEventListener("popstate",(e=>{if(e.state){const t=new URL(location.href),r=this.parse(t);r?this._navigate(r,e.state["sveltekit:scroll"],[]):location.href=location.href}})),document.body.setAttribute("tabindex","-1"),history.replaceState(history.state||{},"",location.href)}parse(e){if(e.origin!==location.origin)return null;if(!e.pathname.startsWith(this.base))return null;const t=e.pathname.slice(this.base.length)||"/",r=this.routes.filter((([e])=>e.test(t)));if(r.length>0){const s=new URLSearchParams(e.search);return{id:`${t}?${s}`,routes:r,path:t,query:s}}}async goto(e,{noscroll:t=!1,replaceState:r=!1}={},s){const a=new URL(e,function(e){let t=e.baseURI;if(!t){const r=e.getElementsByTagName("base");t=r.length?r[0].href:e.URL}return t}(document)),o=this.parse(a);return o?(history[r?"replaceState":"pushState"]({},"",e),this._navigate(o,t?ve():null,s,a.hash)):(location.href=e,new Promise((()=>{})))}async _navigate(e,t,r,s){this.renderer.notify({path:e.path,query:e.query}),location.pathname.endsWith("/")&&"/"!==location.pathname&&history.replaceState({},"",`${location.pathname.slice(0,-1)}${location.search}`),await this.renderer.update(e,r),document.body.focus();const a=s&&document.getElementById(s.slice(1));t?scrollTo(t.x,t.y):a?scrollTo(0,a.getBoundingClientRect().top+scrollY):scrollTo(0,0)}}function _e(e){if(e.error){const t="string"==typeof e.error?new Error(e.error):e.error,r=e.status;return t instanceof Error?!r||r<400||r>599?(console.warn('"error" returned from load() without a valid status code â€” defaulting to 500'),{status:500,error:t}):{status:r,error:t}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof t}"`)}}if(e.redirect){if(!e.status||3!==Math.floor(e.status/100))return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if("string"!=typeof e.redirect)return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}return e}function $e(e){const t=B(e);let r=!0;return{notify:function(){r=!0,t.update((e=>e))},set:function(e){r=!1,t.set(e)},subscribe:function(e){let s;return t.subscribe((t=>{(void 0===s||r&&t!==s)&&e(s=t)}))}}}class Ee{constructor({Root:e,layout:t,target:r,session:s,host:a}){this.Root=e,this.layout=t,this.host=a,this.router=null,this.target=r,this.started=!1,this.current={page:null,query:null,session_changed:!1,nodes:[],contexts:[]},this.caches=new Map,this.prefetching={id:null,promise:null},this.stores={page:$e({}),navigating:B(null),session:B(s)},this.$session=null,this.root=null;const o=e=>{const t=he(e.target);t&&t.hasAttribute("sveltekit:prefetch")&&this.prefetch(new URL(t.href))};let n;addEventListener("touchstart",o),addEventListener("mousemove",(e=>{clearTimeout(n),n=setTimeout((()=>{o(e)}),20)}));let i=!1;this.stores.session.subscribe((async e=>{if(this.$session=e,!i)return;this.current.session_changed=!0;const t=this.router.parse(new URL(location.href));this.update(t,[])})),i=!0}async start(e,t,r){const s={stores:this.stores,error:r,status:t,page:e.page};if(r)s.components=[this.layout.default];else{const t=await this._hydrate(e);if(t.redirect)return void(location.href=new URL(t.redirect,location.href).href);Object.assign(s,t.props),this.current=t.state}this.root=new this.Root({target:this.target,props:s,hydrate:!0}),this.started=!0}notify({path:e,query:t}){dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.stores.navigating.set({from:{path:this.current.page.path,query:this.current.page.query},to:{path:e,query:t}})}async update(e,t){const r=this.token={},s=await this._get_navigation_result(e);if(r===this.token){if(s.reload)location.reload();else if(s.redirect){if(!(t.length>10||t.includes(this.current.page.path)))return void this.router.goto(s.redirect,{replaceState:!0},[...t,this.current.page.path]);this.root.$set({status:500,error:new Error("Redirect loop")})}else this.current=s.state,this.root.$set(s.props),this.stores.navigating.set(null),await 0;dispatchEvent(new CustomEvent("sveltekit:navigation-end")),this.prefetching.promise=null,this.prefetching.id=null}}async prefetch(e){const t=this.router.parse(e);if(t)return this.prefetching.promise=this._get_navigation_result(t),this.prefetching.id=t.id,await this.prefetching.promise;throw new Error(`Could not prefetch ${e.href}`)}async _get_navigation_result(e){if(this.prefetching.id===e.id)return this.prefetching.promise;for(let t=0;t<e.routes.length;t+=1){const r=e.routes[t],[s,a,o]=r;if(1===r.length)return{reload:!0};let n=t+1;for(;n<e.routes.length;){const t=e.routes[n];if(t[0].toString()!==s.toString())break;1!==t.length&&t[1].forEach((e=>e())),n+=1}const i=a.map((e=>e())),c={host:this.host,path:e.path,params:o?o(r[0].exec(e.path)):{},query:e.query},l=await this._hydrate({nodes:i,page:c});if(l)return l}return{state:{page:null,query:null,session_changed:!1,contexts:[],nodes:[]},props:{status:404,error:new Error(`Not found: ${e.path}`)}}}async _hydrate({nodes:e,page:a}){const n={status:200,error:null,components:[]},i=(e,a)=>{if(!this.started){const a="string"==typeof e?e:e.url,o=document.querySelector(`script[type="svelte-data"][url="${a}"]`);if(o){const e=JSON.parse(o.textContent),{body:a}=e,n=((e,a)=>{var o={};for(var n in e)t.call(e,n)&&a.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&r)for(var n of r(e))a.indexOf(n)<0&&s.call(e,n)&&(o[n]=e[n]);return o})(e,["body"]);return Promise.resolve(new Response(a,n))}}return fetch(e,a)},c=a.query.toString(),l={page:a,query:c,session_changed:!1,nodes:[],contexts:[]},u=[this.layout,...e],h=[];let p,f;const d={params:Object.keys(a.params).filter((e=>!this.current.page||this.current.page.params[e]!==a.params[e])),query:c!==this.current.query,session:this.current.session_changed,context:!1};try{for(let e=0;e<u.length;e+=1){const t=this.current.nodes[e],r=this.current.contexts[e],{default:s,preload:g,load:m}=await u[e];if(n.components[e]=s,g)throw new Error("preload has been deprecated in favour of load. Please consult the documentation: https://kit.svelte.dev/docs#load");if(!t||s!==t.component||d.params.some((e=>t.uses.params.has(e)))||d.query&&t.uses.query||d.session&&t.uses.session||d.context&&t.uses.context){const t=a.path+c,r=this.caches.get(s),u=r&&r.get(t);let g,v;if(!u||d.context&&u.node.uses.context){g={component:s,uses:{params:new Set,query:!1,session:!1,context:!1}};const e={};for(const r in a.params)Object.defineProperty(e,r,{get:()=>(g.uses.params.add(r),a.params[r]),enumerable:!0});const t=this.$session;if(m&&(v=await m.call(null,{page:{host:a.host,path:a.path,params:e,get query(){return g.uses.query=!0,a.query}},get session(){return g.uses.session=!0,t},get context(){return g.uses.context=!0,o({},p)},fetch:i}),!v))return}else({node:g,loaded:v}=u);if(v){if(v=_e(v),v.error)return n.error=v.error,n.status=v.status||500,l.nodes=[],{redirect:f,props:n,state:l};if(v.redirect){f=v.redirect;break}if(v.context&&(d.context=!0,p=o(o({},p),v.context)),v.maxage){this.caches.has(s)||this.caches.set(s,new Map);const e=this.caches.get(s),r={node:g,loaded:v};e.set(t,r);let a=!1;const o=setTimeout((()=>{n()}),1e3*v.maxage),n=()=>{e.get(t)===r&&e.delete(t),i(),clearTimeout(o)},i=this.stores.session.subscribe((()=>{a&&n()}));a=!0}h[e]=v.props}l.nodes[e]=g,l.contexts[e]=p}else l.nodes[e]=t,l.contexts[e]=p=r}(await Promise.all(h)).forEach(((e,t)=>{e&&(n[`props_${t}`]=e)})),this.current.page&&a.path===this.current.page.path&&!d.query||(n.page=a)}catch(g){n.error=g,n.status=500,l.nodes=[]}return{redirect:f,props:n,state:l}}}async function be({paths:e,target:t,session:r,error:s,status:a,nodes:o,page:n}){const i=new ye({base:e.base,routes:me}),c=new Ee({Root:re,layout:de,target:t,session:r,host:n.host});z({router:i,renderer:c}),await c.start({nodes:o,page:n},a,s),i.init(c),dispatchEvent(new CustomEvent("sveltekit:start"))}export{be as start};
